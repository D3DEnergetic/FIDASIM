<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
   <meta name="description" content="">
    <meta name="author" content="Luke Stagner" >
    <link rel="icon" href="../../favicon.png">

    <title>Cold Neutrals and Passive Signals &ndash; FIDASIM</title>

    <link href="../../css/bootstrap.min.css" rel="stylesheet">
    <link href="../../css/pygments.css" rel="stylesheet">
    <link href="../../css/font-awesome.min.css" rel="stylesheet">
    <link href="../../css/local.css" rel="stylesheet">
    <link  href="../../tipuesearch/tipuesearch.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    
    <script src="../../js/jquery-2.1.3.min.js"></script>
    <script src="../../js/svg-pan-zoom.min.js"></script>

  </head>

  <body>

    <!-- Fixed navbar -->
    <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="../../index.html">FIDASIM <small>3.0.0-dev</small></a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li><a href='../../page/index.html'>User Guide</a></li>
            <li class="dropdown hidden-xs visible-sm visible-md hidden-lg">
              <a href="#" class="dropdown-toggle"
              data-toggle="dropdown" role="button"
              aria-haspopup="true"
     aria-expanded="false">Contents <span class="caret"></span></a>
        <ul class="dropdown-menu">
            <li><a href="../../lists/files.html">Source Files</a></li>
            <li><a href="../../lists/modules.html">Modules</a></li>
            <li><a href="../../lists/procedures.html">Procedures</a></li>
                   <li><a href="../../lists/types.html">Derived Types</a></li>
            <li><a href="../../lists/programs.html">Programs</a></li>
       
            </ul>
        
            </li>
<li class="visible-xs hidden-sm visible-lg"><a href="../../lists/files.html">Source Files</a></li>
<li class="visible-xs hidden-sm visible-lg"><a href="../../lists/modules.html">Modules</a></li>
<li class="visible-xs hidden-sm visible-lg"><a href="../../lists/procedures.html">Procedures</a></li>
                             <li class="visible-xs hidden-sm visible-lg"><a href="../../lists/types.html">Derived Types</a></li>
<li class="visible-xs hidden-sm visible-lg"><a href="../../lists/programs.html">Programs</a></li>
          </ul>
        <form action="../../search.html" class="navbar-form navbar-right" role="search">
        <div class="form-group">
          <input type="text" class="form-control" placeholder="Search" name="q" id="tipue_search_input" autocomplete="off" required>
        </div>
<!--
        <button type="submit" class="btn btn-default">Submit</button>
-->
        </form>
        </div><!--/.nav-collapse -->
      </div>
    </nav>

    <div class="container">
  <div class="row">
    <h1>Cold Neutrals and Passive Signals</h1>
    <div class="row">
    <div class="col-lg-12">
    <div class="well well-sm" style="min-height: 40px;">
      <ul class="list-inline" style="margin-bottom:0px; display:inline">
<!--
-->
      </ul>
        <ol class="breadcrumb in-well">
         <li><a href='../../page/index.html'>User Guide</a></li>
         <li><a href='../../page/02_physics/index.html'>Physics</a></li>
         <li class="active">Cold Neutrals and Passive Signals</li>
      </ol>
    </div>
    </div>
    </div>
  </div>
  
  <div class="row">
    <div class="col-md-9 col-md-push-3" id='text'>
      <p>Originally, FIDASIM assumed axisymmetry and included active signals produced only by charge exchange (CX) with injected neutrals.
However, passive signals produced by CX with cold neutrals can also be important.
Therefore, FIDASIM is improved to predict passive signals for a given edge-cold neutral population.</p>
<div class="toc">
<ul>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#time-evolution-of-cold-neutrals">Time evolution of cold neutrals</a></li>
<li><a href="#types-of-passive-signals">Types of Passive Signals</a></li>
<li><a href="#passive-grid">Passive Grid</a></li>
<li><a href="#relevant-namelist-settings">Relevant Namelist Settings</a></li>
<li><a href="#fortran-references">Fortran References</a></li>
</ul>
</div>
<hr>
<h1 id="introduction">Introduction</h1>
<p>Active diagnostic signals are produced from charge exchange with injected neutrals, and passive signals are produced from charge exchange with cold neutrals.
Passive signals must be treated to get valid active FIDA data.
For example, passive-FIDA (p-FIDA) signals of comparable magnitude with active signals were experimentally measured on NSTX-U.</p>
<p style="text-align: center"><img alt="NSTX-U" src="./media/nstxu.png" width="400"></p>
<h1 id="time-evolution-of-cold-neutrals">Time evolution of cold neutrals</h1>
<p>FIDASIM accepts 2D and 3D cold neutral density input (TRANSP output variable is <code>dn0wd</code>).
FIDASIM will assume that all neutrals are in the ground state.
Using local plasma parameters, the neutrals are time evolved by solving the collisional radiative model until equilibrium is achieved.
Then, the neutrals are distributed throughout the interpolation grid for subsequent passive calculations.</p>
<h1 id="types-of-passive-signals">Types of Passive Signals</h1>
<p>FIDASIM can calculate passive signals for the following diagnostics</p>
<ul>
<li>Fast-ion D-<script type="math/tex">\alpha</script> (FIDA)</li>
<li>Neutral Particle Analyzer (NPA)</li>
</ul>
<h1 id="passive-grid">Passive Grid</h1>
<p>By default, FIDASIM will define the passive grid to encompass the beam grid and the entire viewable plasma volume.
If the interpolation grid is 3D, then the passive grid is the interpolation grid.
FIDASIM writes the passive grid settings are printed to the <a href="../01_getting_started/03_running.html#running-interactively">standard output</a></p>
<h1 id="relevant-namelist-settings">Relevant Namelist Settings</h1>
<ul>
<li><code>calc_pfida</code>: Calculate pFIDA spectra</li>
<li><code>n_pfida</code>: Number of Monte Carlo particles used in passive FIDA spectra calculation</li>
<li><code>nlambda</code>: Number of wavelength bins</li>
<li><code>lambdamin</code>: Minimum wavelength [nm]</li>
<li><code>lambdamax</code>: Maximum wavelength [nm]</li>
</ul>
<h1 id="fortran-references">Fortran References</h1>
<ul>
<li><a href="../../proc/make_passive_grid.html">make_passive_grid</a>: Creates passive grid from input geometries</li>
<li><a href="../../proc/read_chords.html">read_chords</a>: Reads FIDA geometry</li>
<li><a href="../../proc/pfida_f.html">pfida_f</a>: Calculates FIDA light using a distribution function</li>
<li><a href="../../proc/pfida_mc.html">pfida_mc</a>: Calculates FIDA light using a Monte Carlo fast-ion distribution</li>
<li><a href="../../proc/read_npa.html">read_npa</a>: Reads NPA geometry and calculates NPA geometric factor</li>
<li><a href="../../proc/pnpa_f.html">pnpa_f</a>: Calculates passive MC-NPA routine using a distribution function</li>
<li><a href="../../proc/pnpa_mc.html">pnpa_mc</a>: Calculates passive NPA flux using a Monte Carlo fast-ion distribution</li>
</ul>
    </div>
    <div class="col-md-3 col-md-pull-9">
      <hr class="visible-xs visible-sm">
        <div class="well toc">
          <ul class="nav nav-stacked nav-pills">
            <li role="presentation" class="title"><a href='../../page/index.html'>User Guide</a></li>
          </ul>
          <hr>
          <ul class="nav nav-stacked nav-pills">
            <li role="presentation">
            <a href='../../page/01_getting_started/index.html'>Getting Started</a>
            <ul class="nav nav-stacked nav-pills">
                          <li role="presentation">
            <a href='../../page/01_getting_started/01_install.html'>Installation</a>
            </li>
            <li role="presentation">
            <a href='../../page/01_getting_started/02_preprocess.html'>Preprocessing Inputs</a>
            </li>
            <li role="presentation">
            <a href='../../page/01_getting_started/03_running.html'>Running FIDASIM</a>
            </li>
            <li role="presentation">
            <a href='../../page/01_getting_started/04_reading.html'>Reading Outputs</a>
            </li>
            <li role="presentation">
            <a href='../../page/01_getting_started/05_visual.html'>Visualization</a>
            </li>

            </ul>
            </li>
            <li role="presentation">
            <a href='../../page/02_physics/index.html'>Physics</a>
            <ul class="nav nav-stacked nav-pills">
                          <li role="presentation">
            <a href='../../page/02_physics/01_plasma.html'>Plasma Parameters, Fields, and Distributions</a>
            </li>
            <li role="presentation">
            <a href='../../page/02_physics/02_atomic_tables.html'>Atomic Tables</a>
            </li>
            <li role="presentation">
            <a href='../../page/02_physics/03_colrad.html'>Collisional Radiative Model</a>
            </li>
            <li role="presentation">
            <a href='../../page/02_physics/04_neutrals.html'>Neutral Beam and Halo</a>
            </li>
            <li role="presentation">
            <a href='../../page/02_physics/05_spectra.html'>Spectra</a>
            </li>
            <li role="presentation">
            <a href='../../page/02_physics/06_npa.html'>Neutral Particle Analyzer</a>
            </li>
            <li role="presentation">
            <a href='../../page/02_physics/07_weights.html'>Weight Functions</a>
            </li>
            <li role="presentation" class="disabled">
            <a href='../../page/02_physics/08_passive.html'>Cold Neutrals and Passive Signals</a>
            </li>

            </ul>
            </li>
            <li role="presentation">
            <a href='../../page/03_technical/index.html'>Technical Details</a>
            <ul class="nav nav-stacked nav-pills">
                          <li role="presentation">
            <a href='../../page/03_technical/01_prefida_inputs.html'>PREFIDA Inputs</a>
            </li>
            <li role="presentation">
            <a href='../../page/03_technical/02_trouble.html'>Troubleshooting</a>
            </li>
            <li role="presentation">
            <a href='../../page/03_technical/03_advanced.html'>Advanced Settings</a>
            </li>

            </ul>
            </li>
          </ul>
        </div>
    </div>
  </div>
    <hr>    
    </div> <!-- /container -->
    <footer>
      <div class="container">
      <div class="row">
        <div class="col-xs-6 col-md-6"><p>FIDASIM was developed by Luke Stagner<br>&copy; 2022 
</p>
        </div>
        <div class="col-xs-6 col-md-6">
          <p class="text-right">
            Documentation generated by 
            <a href="https://github.com/Fortran-FOSS-Programmers/ford">FORD</a>
          </p>
        </div>
      </div>
      <br>
      </div> <!-- /container -->    
    </footer>

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
<!--
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
-->
    <script src="../../js/bootstrap.min.js"></script>
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="../../js/ie10-viewport-bug-workaround.js"></script>

    <!-- MathJax JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } },
        jax: ['input/TeX','input/MathML','output/HTML-CSS'],
        extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']
      });
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script src="../../tipuesearch/tipuesearch_content.js"></script>
    <script src="../../tipuesearch/tipuesearch_set.js"></script>
    <script src="../../tipuesearch/tipuesearch.js"></script>
    
  </body>
</html>